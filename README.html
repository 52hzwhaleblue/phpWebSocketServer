<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>WEB-Socket-Server</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            body {
                width: 60em;
                margin: 20px;             
                overflow-wrap: break-word;
            }
            code{
                background:#dedede;
            }

        </style>
    </head>
    <body>
        <h1>phpWebSocketServer</h1>

        Server witten in PHP that can handle connections via websocksets via <code>wss:// or ws://</code> and normal sockets,
        over <code>ssl:// ,tcp://</code> 

        <h1>Logic</h1>

        This server, listening on a socket, offers you a way to have web clients and php backend scripts 
        communicate with each other. Messages are exchanged using the JSON format. In this implementation
        a key value pair as <code> {'opcode':value ,.....} </code> is always inlcuded to trigger desired operations 
        in the server or on the web client side.

        <h1> Directories</h1>

        <h2> include</h2>

        Files included by server and clients

        <h2> Server</h2>

        Implemention of a server in php and php script to start server that extends the server class.

        <h2> ServerAPP</h2>

        Implemention of a server in php that requires to register <i>application Classes</i> with the server.
        These application classes are contained within this directory

        <h2> phpClient</h2>

        PHP class to establish connection and communication to a Server through <code>socket</code> and a
        php script to test connection.

        <h2> webClient</h2>

        javascript to establish connection and communication to a Server through <code>websocket</code> and a
        php script to test connection via java script.

        <h2> Web client</h2>

        For javascript web clients sending and receiving messages is implemented by using
        the websocket interface. The web client, when connecting to the server, receives a 'ready' message, when
        connection and handshake are completed. The web client then is sending a UUID to the server in order to be 
        registered in the server. 

        <h2> Server action</h2>

        The server, when receiving a message form any client, reacts to the embedded 'opcode' if this is one of

        <ul>
            <li> uuid 
            <li> feedback
            <li> quit
        </ul>

        If none of the above opcode is seen, the message is broadcasted to all other registered web clients.
        The receiving clients in turn will look at the embeded opcode and react as implemented.

        <h2> PHP scripts</h2>

        Enabling a php script to connect to the same server offers some more posibilities for communication.

        The web client triggers php scripts via AJAX and passes the same UUID to the php script, the script is
        now able to report back to the web client by sending the UUID along with an opcode 'feedback'  and other parameters to the server.
        With the given UUID the server noew knows to what client-web-socket to send the message. Loop closed !     


    </body>
</html>
